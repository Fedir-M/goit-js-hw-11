{"version":3,"file":"commonHelpers.js","sources":["../src/js/fetchImages.js","../src/js/markupGallery.js","../src/main.js"],"sourcesContent":["// const BASE_URL = 'https://pixabay.com/api/';\n// const options = {\n//   key: '42031506-26545a7af84e6a92777e1df63',\n//   image_type: 'photo',\n//   orientation: 'horizontal',\n//   safesearch: true\n// };\n\n// export function fetchResponce(query) {\n//   return fetch(\n//     `${BASE_URL}/?key=${options.key}&q=${query}&image_type=${options.image_type}&orientation=${options.orientation}&safesearch=${options.safesearch}`\n//   ).then(responce => responce.json());\n// }\n\nexport function fetchImages(keywords) {\n    const KEY_API = '42031506-26545a7af84e6a92777e1df63';\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const PARAMS = new URLSearchParams({\n        key: KEY_API,\n        q: keywords,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        page: 1,\n        per_page: 9\n      });\n   const url = `${BASE_URL}${END_POINT}?${PARAMS}`;\n\n   return fetch(url).then(response => {\n    if(!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n   })\n\n}","\nexport function galleryMarkup(data) {\n  return data.map(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    }) =>\n      `<a class=\"gallery__card\" href=\"${largeImageURL}\">\n            <img class=\"gallery__img\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n\n            <ul class=\"card__text--list\">\n                    <li class=\"card__text--item\">\n                        <h2 class=\"card__item--title\">Likes</h2>\n                        <p class=\"card__item--value\">${likes}</p>\n                    </li>\n\n                    <li class=\"card__text--item\">\n                        <h2 class=\"card__item--title\">Views</h2>\n                        <p class=\"card__item--value\">${views}</p>\n                    </li>\n\n                    <li class=\"card__text--item\">\n                        <h2 class=\"card__item--title\">Comments</h2>\n                        <p class=\"card__item--value\">${comments}</p>\n                    </li>\n\n                    <li class=\"card__text--item\">\n                        <h2 class=\"card__item--title\">Downloads</h2>\n                        <p class=\"card__item--value\">${downloads}</p>\n                    </li>\n            </ul>\n        </a> \n      `\n  );\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImages } from './js/fetchImages.js';\nimport { galleryMarkup } from './js/markupGallery.js';\n\nconst refs = {\n  formEl: document.querySelector('.input__form'),\n  loader: document.querySelector('.loader'),\n  loading: document.querySelector('.text__loading'),\n  gallery: document.querySelector('.gallery'),\n};\n\nlet simplelightboxGallery = null; // N!!! - it could make an issue in the future code(ex: in React) if I use <<let simplelightboxGallery;>>\n\n\nrefs.formEl.addEventListener('submit', onSearch);\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n\n  const searchQuery = evt.currentTarget.elements.query.value.trim();\n  //* const searchQuery = refs.formEl.query.value.trim(); N! - the 2nd variant of typing, common acces to element\n\n  if (searchQuery !== '') {\n    onLoaderVisible()\n  }\n\n  fetchImages(searchQuery).then(data => {\n    if (data.totalHits === 0) {\n      refs.gallery.innerHTML = '';\n      iziToast.error({\n        title: 'Sorry,',\n        message:\n          'there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        progressBarColor: 'white',\n      });\n      onLoaderUnVisible()\n    } else {\n      onLoaderUnVisible()\n\n      const galleryData = data.hits;\n\n      const galleryItems = galleryMarkup(galleryData).join('');\n\n      refs.gallery.innerHTML = '';\n      refs.gallery.insertAdjacentHTML('beforeend', galleryItems);\n\n      simplelightboxGallery = new SimpleLightbox('.gallery a').refresh();\n    }\n  }).catch(error => console.log(error)).finally(() => refs.formEl.reset());\n}\n\nfunction onLoaderVisible() {\n  refs.loader.classList.remove('isHidden');\n  refs.loading.classList.remove('isHidden');\n}\n\nfunction onLoaderUnVisible() {\n  refs.loader.classList.add('isHidden');\n  refs.loading.classList.add('isHidden');\n}"],"names":["fetchImages","keywords","KEY_API","BASE_URL","END_POINT","PARAMS","url","response","galleryMarkup","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","onSearch","evt","searchQuery","onLoaderVisible","iziToast","onLoaderUnVisible","galleryData","galleryItems","SimpleLightbox","error"],"mappings":"6vBAcO,SAASA,EAAYC,EAAU,CAClC,MAAMC,EAAU,qCACVC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CAC/B,IAAKH,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAM,EACN,SAAU,CAClB,CAAO,EACEK,EAAM,GAAGH,IAAWC,KAAaC,IAEvC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAClC,GAAG,CAACA,EAAS,GACX,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAI,CAEJ,CCnCO,SAASC,EAAcC,EAAM,CAClC,OAAOA,EAAK,IACV,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC,kCAAkCL;AAAA,6CACKD,WAAsBE;AAAA;AAAA;AAAA;AAAA;AAAA,uDAKZC;AAAA;AAAA;AAAA;AAAA;AAAA,uDAKAC;AAAA;AAAA;AAAA;AAAA;AAAA,uDAKAC;AAAA;AAAA;AAAA;AAAA;AAAA,uDAKAC;AAAA;AAAA;AAAA;AAAA,OAKvD,CACA,CC/BA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,cAAc,EAC7C,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,UAAU,CAC5C,EAKAA,EAAK,OAAO,iBAAiB,SAAUC,CAAQ,EAE/C,SAASA,EAASC,EAAK,CACrBA,EAAI,eAAc,EAElB,MAAMC,EAAcD,EAAI,cAAc,SAAS,MAAM,MAAM,OAGvDC,IAAgB,IAClBC,EAAiB,EAGnBrB,EAAYoB,CAAW,EAAE,KAAKX,GAAQ,CACpC,GAAIA,EAAK,YAAc,EACrBQ,EAAK,QAAQ,UAAY,GACzBK,EAAS,MAAM,CACb,MAAO,SACP,QACE,oEACF,SAAU,WACV,iBAAkB,OAC1B,CAAO,EACDC,EAAmB,MACd,CACLA,EAAmB,EAEnB,MAAMC,EAAcf,EAAK,KAEnBgB,EAAejB,EAAcgB,CAAW,EAAE,KAAK,EAAE,EAEvDP,EAAK,QAAQ,UAAY,GACzBA,EAAK,QAAQ,mBAAmB,YAAaQ,CAAY,EAEjC,IAAIC,EAAe,YAAY,EAAE,SAC1D,CACF,CAAA,EAAE,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAAE,QAAQ,IAAMV,EAAK,OAAO,MAAO,CAAA,CACzE,CAEA,SAASI,GAAkB,CACzBJ,EAAK,OAAO,UAAU,OAAO,UAAU,EACvCA,EAAK,QAAQ,UAAU,OAAO,UAAU,CAC1C,CAEA,SAASM,GAAoB,CAC3BN,EAAK,OAAO,UAAU,IAAI,UAAU,EACpCA,EAAK,QAAQ,UAAU,IAAI,UAAU,CACvC"}